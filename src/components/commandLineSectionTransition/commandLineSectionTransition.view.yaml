elementName: rvn-command-line-section-transition

propsSchema:
  type: object
  properties:
    line:
      type: object
      properties:
        presentation:
          type: object
    sections:
      type: array
      items:
        type: object
        properties:
          id:
            type: string
          name:
            type: string

viewDataSchema:
  type: object
  properties: {}

refs:
  section-selector:
    eventListeners:
      click:
        handler: handleSectionSelectorClick
  section-item-*:
    eventListeners:
      click:
        handler: handleSectionItemClick
  submit-button:
    eventListeners:
      click:
        handler: handleSubmitClick
  reset-button:
    eventListeners:
      click:
        handler: handleResetClick
  breadcumb-actions:
    eventListeners:
      click:
        handler: handleBreadcumbActionsClick
  breadcumb-section-transition:
    eventListeners:
      click:
        handler: handleBreadcumbSectionTransitionClick
  animation-select:
    eventListeners:
      change:
        handler: handleAnimationSelectChange
  search-input:
    eventListeners:
      input:
        handler: handleSearchInput

template:
  - rtgl-view w=f h=f p=lg:
    # Mode 1: Current section and animation selector
    - $if mode == 'current':
      - rtgl-view d=h g=md:
        - rtgl-text#breadcumb-actions s=sm c=mu-fg mb=lg cur=p: Actions
        - rtgl-text s=sm c=mu-fg mb=lg: '>'
        - rtgl-text s=sm c=mu-fg mb=lg: Section Transition
      
      - rtgl-text mb=md: Target Section
      - rtgl-view#section-selector g=md d=h av=c ph=md bgc=mu h-bgc=ac br=md h=36 w=f cur=p mb=lg:
        - rtgl-svg svg=text wh=24:
        - $if selectedSection:
            - rtgl-text s=sm: ${selectedSection.name}
          $else:
            - rtgl-text s=sm: Select Section
      
      - rtgl-text mb=md: Transition Animation
      - rtgl-select#animation-select .options=animationOptions .value=selectedAnimation mb=lg:
      
      - rtgl-view flex=1:
      - rtgl-view d=h av=c ah=e w=f g=lg:
        - rtgl-button#reset-button v=ol: Reset
        - rtgl-button#submit-button: Submit

    # Mode 2: Section list with search
    - $if mode == 'gallery':
      - rtgl-view d=h g=md:
        - rtgl-text#breadcumb-actions s=sm c=mu-fg mb=lg cur=p: Actions
        - rtgl-text s=sm c=mu-fg mb=lg: '>'
        - rtgl-text#breadcumb-section-transition s=sm c=mu-fg mb=lg cur=p: Section Transition
        - rtgl-text s=sm c=mu-fg mb=lg: '>'
        - rtgl-text s=sm c=mu-fg mb=lg: Section Selection
      
      # Search bar
      - rtgl-text mb=md: Search Sections
      - rtgl-input#search-input .value=searchQuery placeholder="Type to search sections..." mb=lg:
      
      # Section list grouped by folders (like commandLineActions style)
      - rtgl-view h=f w=f g=sm sv:
        - $for group in groups:
          - rtgl-view g=md:
            - rtgl-text s=sm c=mu-fg mb=sm: ${group.name}
            - rtgl-view g=sm:
              - $for section in group.children:
                - rtgl-view#section-item-${section.id} g=md d=h av=c ph=md bgc=mu h-bgc=ac br=md h=36 w=f cur=p:
                  - rtgl-svg svg=text wh=24:
                  - rtgl-text s=sm: ${section.name}
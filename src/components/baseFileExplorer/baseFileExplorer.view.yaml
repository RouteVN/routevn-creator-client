refs:
  item*:
    eventListeners:
      mousedown:
        required: true
        handler: handleItemMouseDown
      contextmenu:
        handler: handleItemContextMenu
      click:
        handler: handleItemClick
      dblclick:
        handler: handleItemDblClick
  arrow*:
    eventListeners:
      click:
        handler: handleArrowClick
  container:
    eventListeners:
      contextmenu:
        handler: handleContainerContextMenu
  emptyMessage:
    eventListeners:
      click:
        handler: handleEmptyMessageClick
  dropdownMenu:
    eventListeners:
      close:
        handler: handleDropdownMenuClickOverlay
      item-click:
        handler: handleDropdownMenuClickItem
  popover:
    eventListeners:
      close:
        handler: handlePopoverClickOverlay
  form:
    eventListeners:
      form-action:
        handler: handleFormActionClick
styles:
  ':host':
    '-webkit-user-select': none
    '-moz-user-select': none
    '-ms-user-select': none
    user-select: none
template:
  - rtgl-view w=f h=f sv:
      - rtgl-view w=f g=sm pos=rel:
          - rtgl-view w=f h=f:
              - $if items.length == 0 && !noEmptyMessage:
                  - rtgl-view#emptyMessage w=f h=f d=f av=c ah=c p=xl cur=pointer:
                      - rtgl-text s=sm c=mu-fg ta=c: No items. Click to create a folder.
                $else:
                  - $for item, i in items:
                      - 'rtgl-view#itemRef${i} data-item-id=${item.id} h-bgc=${item.hBgc} bgc=${item.bgc} d=h g=xs style="padding-left: ${item.ml}px;" w=f pv=md pr=md h=32 cur=pointer av=c bc=${item.bc} bw=xs':
                          - $if shrinkable && item.hasChildren:
                              - rtgl-svg#arrowRef${i} data-item-id=${item.id} svg=${item.arrowIcon} wh=16 cur=pointer: null
                            $else:
                              - rtgl-view wh=16: null
                          - rtgl-view d=h g=md av=c w=f:
                              - rtgl-svg svg=${item.svg} wh=16: null
                              - 'rtgl-text s=sm ellipsis=true w=f flex=1 mr=xl style="min-width: 0"': ${item.name}
          - $if targetDragIndex != -2 && targetDropPosition != 'inside':
              - 'rtgl-view pos=abs bgc=fg h=2 style="top: ${targetDragPosition}px; left: ${targetDragLeftOffset}px; width: calc(100% - ${targetDragLeftOffset}px); z-index: 1000;"': null
      - rtgl-view#container w=f h=f: null
  - rtgl-dropdown-menu#dropdownMenu :items=dropdownMenu.items x=${dropdownMenu.position.x} y=${dropdownMenu.position.y} ?open=${dropdownMenu.isOpen}: null
  - rtgl-popover#popover ?open=${popover.isOpen} x=${popover.position.x} y=${popover.position.y}:
      - rtgl-form#form key=${popover.isOpen} slot=content :form=form :defaultValues=renameFormDefaultValues: null

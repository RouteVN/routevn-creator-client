elementName: rvn-command-line-characters

viewDataSchema:
  type: object
  properties: {}

refs:
  character-selector:
    eventListeners:
      click:
        handler: handleCharacterSelectorClick
  character-item-*:
    eventListeners:
      click:
        handler: handleCharacterItemClick
  submit-button:
    eventListeners:
      click:
        handler: handleSubmitClick

template:
  - rtgl-view w=f h=f p=m:
    - rtgl-text s=h3: Command Line Characters

    - $if mode == 'current':
      - rtgl-view:
        - rtgl-text: Current Character
        - rtgl-view#character-selector w=200 h=75 av=c ah=c bgc=ac cur=p: 
          - rtgl-text: Select Character
        - rtgl-button#submit-button: Submit

    - $if mode == 'gallery':
      - rtgl-text: Character Gallery
      - rtgl-view d=h w=f:
        - rtgl-view h=f flex=1:
          - $for item in items:
            - rtgl-view w=f bgc=ac:
              - rtgl-text: ${item.name}
        - rtgl-view h=f flex=1:
          - $for group in groups:
            - rtgl-text: ${group.name}
            - $for item in group.children:
              - rtgl-view#character-item-${item.id} w=200 h=150 bgc=ac cur=p:
                - rtgl-text: ${item.name}
                - rtgl-text s=sm c=mu-fg: ${item.description || 'Character'}
elementName: rvn-audio-waveform

propsSchema:
  type: object
  properties:
    waveformData:
      type: string
    duration:
      type: number
    currentTime:
      type: number

refs:
  waveform-canvas:
    eventListeners:
      click:
        handler: handleCanvasClick

template:
  - tag: div
    class: "audio-waveform-container"
    style:
      width: "100%"
      height: "120px"
      position: "relative"
      background: "#f8f9fa"
      border: "1px solid #e9ecef"
      border-radius: "4px"
      overflow: "hidden"
    children:
      - $if waveformData:
          - tag: canvas
            id: waveform-canvas
            class: "waveform-canvas"
            width: "${canvasWidth}"
            height: "${canvasHeight}"
            style:
              width: "100%"
              height: "100%"
              cursor: "pointer"
              display: "block"
        $else:
          - tag: div
            class: "waveform-placeholder"
            style:
              display: "flex"
              align-items: "center"
              justify-content: "center"
              height: "100%"
              color: "#6c757d"
              font-size: "14px"
            children:
              - tag: span
                text: "No waveform data available"
      - $if isLoading:
          - tag: div
            class: "waveform-loading"
            style:
              position: "absolute"
              top: "0"
              left: "0"
              width: "100%"
              height: "100%"
              background: "rgba(255, 255, 255, 0.8)"
              display: "flex"
              align-items: "center"
              justify-content: "center"
              color: "#6c757d"
              font-size: "14px"
            children:
              - tag: span
                text: "Loading waveform..."
elementName: rvn-command-line-scene-transition

viewDataSchema:
  type: object
  properties: {}

refs:
  scene-selector:
    eventListeners:
      click:
        handler: handleSceneSelectorClick
  scene-item-*:
    eventListeners:
      click:
        handler: handleSceneItemClick
  submit-button:
    eventListeners:
      click:
        handler: handleSubmitClick

template:
  - rtgl-view w=f h=f p=m:
    - rtgl-text s=h3: Command Line Scene Transition

    - $if mode == 'current':
      - rtgl-view:
        - rtgl-text: Target Scene
        - rtgl-view#scene-selector w=200 h=75 av=c ah=c bgc=ac cur=p: 
          - rtgl-text: Select Scene
        - rtgl-button#submit-button: Add Transition

    - $if mode == 'gallery':
      - rtgl-text: Scene Gallery
      - rtgl-view d=h w=f:
        - rtgl-view h=f flex=1:
          - $for item in items:
            - rtgl-view w=f bgc=ac:
              - rtgl-text: ${item.name}
        - rtgl-view h=f flex=1:
          - $for group in groups:
            - rtgl-text: ${group.name}
            - $for item in group.children:
              - rtgl-view#scene-item-${item.id} w=200 h=150 bgc=ac cur=p:
                - rtgl-text: ${item.name}
                - rtgl-text s=sm c=mu-fg: ${item.description || 'Scene'}
elementName: rvn-file-explorer

propsSchema:
  type: object
  properties:
    items:
      type: array
      items:
        type: object
        properties:
          name:
            type: string
          id:
            type: string
          level:
            type: number
          hasChildren:
            type: boolean
          parentId:
            type: string
    contextMenuItems:
      type: array
      description: Menu items for right-clicking on an item
    emptyContextMenuItems:
      type: array
      description: Menu items for right-clicking on empty space
    repositoryTarget:
      type: string
      description: Repository target for data operations (e.g. 'images', 'sounds')
      required: true

refs:
  base-file-explorer:
    eventListeners:
      click-item:
        handler: handleClickItem
      dblclick-item:
        handler: handleDblClickItem
      target-changed:
        handler: handleTargetChanged
      file-action:
        handler: handleFileAction
  delete-warning-file-explorer:
    eventListeners:
      close:
        action: hideDeleteWarning

template:
  - rvn-base-file-explorer#base-file-explorer draggable shrinkable dropdown-menu .items=items .contextMenuItems=contextMenuItems .emptyContextMenuItems=emptyContextMenuItems:
  - rtgl-dialog#delete-warning-file-explorer ?open=${deleteWarningVisible} s=sm:
      - rtgl-view slot=content g=md p=lg d=v:
          - rtgl-text s=lg fw=bold c=dg: Cannot Delete Item
          - rtgl-text s=sm c=dg: This item is currently in use and cannot be deleted.
          - rtgl-view d=v g=xs mt=md:
              - rtgl-text s=xs c=mu-fg: Used in ${deleteWarningUsage.count} place(s)
              - rtgl-text s=xs c=mu-fg: Scenes ${deleteWarningUsage.inProps.scene.length} | Layouts ${deleteWarningUsage.inProps.layout.length}

refs:
  addChoiceButton:
    eventListeners:
      click:
        handler: handleAddChoiceClick
  choice*:
    eventListeners:
      click:
        handler: handleChoiceClick
      contextmenu:
        handler: handleChoiceContextMenu
  removeChoice*:
    eventListeners:
      click:
        handler: handleRemoveChoiceClick
  cancelEditButton:
    eventListeners:
      click:
        handler: handleCancelEditClick
  saveChoiceButton:
    eventListeners:
      click:
        handler: handleSaveChoiceClick
  choiceForm:
    eventListeners:
      form-input:
        handler: handleChoiceFormInput
      form-change:
        handler: handleChoiceFormChange
  submitButton:
    eventListeners:
      click:
        handler: handleSubmitClick
  breadcumb:
    eventListeners:
      item-click:
        handler: handleBreadcumbClick
  form:
    eventListeners:
      form-field-event:
        handler: handleFormExtra
      form-change:
        handler: handleFormChange
  dropdownMenu:
    eventListeners:
      close:
        handler: handleDropdownMenuClose
      item-click:
        handler: handleDropdownMenuClickItem
template:
  - rtgl-view w=f h=f p=lg:
      - $if mode == "list":
          - rtgl-view wh=f:
              - rtgl-view d=h g=md:
                  - rtgl-breadcrumb#breadcumb :items=breadcrumb: null
              - rtgl-view flex=1 sv w=f:
                  - rtgl-form#form :form=form :defaultValues=defaultValues :context=context:
                      - rtgl-view#choicesContainer slot=choices g=md w=f:
                          - $for item, index in defaultValues.items:
                              - rtgl-view#choice${index} data-index=${index} d=h av=c w=f g=md p=sm bgc=mu br=sm cur=pointer:
                                  - rtgl-view flex=1 w=f:
                                      - rtgl-text: ${item.content}
                          - rtgl-button#addChoiceButton v=ol w=f mt=md: + Add Choice
              - rtgl-view d=h av=c ah=e w=f g=lg:
                  - rtgl-button#submitButton: Submit
        $elif mode == "editChoice":
          - rtgl-view wh=f:
              - rtgl-view d=h g=md:
                  - rtgl-breadcrumb#breadcumb :items=breadcrumb: null
              - rtgl-form#choiceForm :form=choiceFormTemplate :context=editFormContext :defaultValues=editForm: null
              - rtgl-view flex=1: null
              - rtgl-view d=h av=c ah=e w=f g=lg:
                  - rtgl-button#cancelEditButton v=ol: Cancel
                  - rtgl-button#saveChoiceButton: Save Choice
  - rtgl-dropdown-menu#dropdownMenu :items=dropdownMenu.items x=${dropdownMenu.position.x} y=${dropdownMenu.position.y} ?open=${dropdownMenu.isOpen}: null

elementName: rvn-command-line-rich-text

viewDataSchema:
  type: object
  properties: {}

refs:
  text-display:
    eventListeners:
      mouseup:
        handler: handleTextSelection
      keyup:
        handler: handleTextSelection
  submit-button:
    eventListeners:
      click:
        handler: handleSubmitClick
  format-button-*:
    eventListeners:
      click:
        handler: handleFormatButtonClick
  breadcumb-actions:
    eventListeners:
      click:
        handler: handleBreadcumbActionsClick

template:
  - rtgl-view w=f h=f p=lg:
    - rtgl-view d=h g=md:
      - rtgl-text#breadcumb-actions s=sm c=mu-fg mb=lg cur=p: Actions
      - rtgl-text s=sm c=mu-fg mb=lg: '>'
      - rtgl-text s=sm c=mu-fg mb=lg: Rich Text
    
    - rtgl-text: Text Content
    
    - rtgl-view g=md:
      - rtgl-view d=h g=sm:
        - rtgl-button#format-button-bold .disabled=${!hasSelection}: Bold
        - rtgl-button#format-button-italic .disabled=${!hasSelection}: Italic
        - rtgl-button#format-button-underline .disabled=${!hasSelection}: Underline
        - rtgl-button#format-button-strikethrough .disabled=${!hasSelection}: Strikethrough
      
      - 'rtgl-view#text-display w=f h=200 p=md bgc=mu br=md contenteditable=false .innerHTML=${formattedContent} style="overflow-y: auto; border: 1px solid #ccc; white-space: pre-wrap;"':
      
      - $if hasSelection:
        - rtgl-view p=sm bgc=ac br=md:
          - rtgl-text s=sm: 'Selected: "${selectedText}"'
    
    - rtgl-view flex=1:
    - rtgl-view d=h av=c ah=e w=f g=lg:
      - rtgl-button#submit-button: Submit
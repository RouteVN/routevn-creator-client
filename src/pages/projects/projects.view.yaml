refs:
  createButton:
    eventListeners:
      click:
        required: true
        handler: handleCreateButtonClick
  openButton:
    eventListeners:
      click:
        required: true
        handler: handleOpenButtonClick
  project*:
    eventListeners:
      click:
        required: true
        handler: handleProjectsClick
      contextmenu:
        handler: handleProjectContextMenu
  createProjectDialog:
    eventListeners:
      close:
        handler: handleCloseDialogue
  form:
    eventListeners:
      form-action:
        handler: handleFormSubmit
  browseButton:
    eventListeners:
      click:
        handler: handleBrowseFolder
  dropdownMenu:
    eventListeners:
      close:
        handler: handleDropdownMenuClose
      item-click:
        handler: handleDropdownMenuClickItem
  deleteProjectDialog:
    eventListeners:
      close:
        handler: handleDeleteDialogClose
  deleteCancelButton:
    eventListeners:
      click:
        handler: handleDeleteDialogCancel
  deleteConfirmButton:
    eventListeners:
      click:
        handler: handleDeleteDialogConfirm
template:
  - rtgl-view h=100vh w=100vw ah=c:
      - rtgl-view sm-w=f w=540 h=f d=v:
          - rtgl-view d=h w=f av=c mb=xl mt=xl:
              - rtgl-text s=h2: ${title}
              - rtgl-view w=1fg: null
              - rtgl-view d=h g=sm:
                  - rtgl-button#createButton data-testid=create-project-button: ${createButtonText}
                  - $if platform != 'web':
                      - rtgl-button#openButton variant=se: ${openButtonText}
          - rtgl-view w=f g=md h=1fg oy=a:
              - $if emptyMessage:
                  - rtgl-view w=f h=200 ah=c av=c:
                      - rtgl-view d=v ah=c g=md:
                          - rtgl-text s=lg c=mu-fg: ${emptyMessage}
                          - rtgl-text s=sm c=mu-fg: ${emptySubMessage}
              - $for project, i in projects:
                  - rtgl-view#projectItem${i} data-project-id=${project.id} h=auto w=f bw=xs bc=bo h-bc=ac p=md cur=pointer d=h av=c g=md:
                      - $if project.iconUrl:
                          - rtgl-image wh=48 src=${project.iconUrl} bc=fg of=con br=sm: null
                        $else:
                          - rtgl-image wh=48 src="/public/project_logo_placeholder.png" bc=fg of=con br=sm: null
                      - rtgl-view w=1fg:
                          - rtgl-text: ${project.name}
                          - rtgl-view d=h g=sm av=c mt=xs:
                              - rtgl-svg wh=14 svg=folder c=mu-fg: null
                              - rtgl-text s=xs c=mu-fg: ${project.projectPath}
  - rtgl-dialog#createProjectDialog ?open=${isOpen} s=md:
      - rtgl-view slot=content g=md:
          - rtgl-form#form key=${isOpen} :defaultValues=defaultValues :form=form :context=context w=f:
              - rtgl-view w=f slot=project-path-selector d=h g=sm av=c:
                  - rtgl-input#pathInput w=f :value=projectPathDisplay disabled=true placeholder="No folder selected": null
                  - rtgl-button#browseButton variant=se: Browse
  - rtgl-dialog#deleteProjectDialog ?open=${deleteDialog.isOpen} s=sm:
      - rtgl-view slot=content g=lg p=lg:
          - rtgl-view d=v g=md:
              - rtgl-text s=lg: ${deleteDialogTitle}
              - rtgl-text c=mu-fg: ${deleteDialogMessage}
          - rtgl-view d=h g=sm w=f ah=e:
              - rtgl-button#deleteCancelButton v=se: Cancel
              - rtgl-button#deleteConfirmButton v=pr: Delete
  - rtgl-dropdown-menu#dropdownMenu ?open=${dropdownMenu.isOpen} x=${dropdownMenu.x} y=${dropdownMenu.y} :items=dropdownMenu.items: null

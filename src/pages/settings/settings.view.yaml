elementName: rvn-settings

viewDataSchema:
  type: object
  properties:
    appVersion:
      type: string
      default: ""

refs:
  left-panel:
    eventListeners:
      data-changed:
        handler: handleDataChanged
  checkUpdateButton:
    eventListeners:
      click:
        handler: handleCheckForUpdates
  backButton:
    eventListeners:
      click:
        handler: handleBackToProjects
  createBundleButton:
    eventListeners:
      click:
        handler: handleCreateBundle
  importDragDrop:
    eventListeners:
      file-selected:
        handler: handleFileSelected

template: 
  - rtgl-view d=h w=f h=f: 
    - rtgl-view d=h h=f:
      - rvn-resizable-panel#left-panel .resourceCategory=resourceCategory .selectedResourceId=selectedResourceId .flatItems=flatItems .repositoryTarget=repositoryTarget:
      - rtgl-view flex=1 h=f p=lg d=v:
        - rtgl-text s=h2: General Settings
        - rtgl-view g=lg mt=lg flex=1:
          - rtgl-view d=v g=md:
            - rtgl-text s=lg: Version Information
            - rtgl-view d=h av=c g=sm:
              - rtgl-text s=sm col=muted: "Current Version:"
              - rtgl-text s=sm: "${appVersion}"
            - rtgl-button#checkUpdateButton variant=pr: Check for Updates
          - rtgl-view d=v g=md mt=xl:
            - rtgl-text s=lg: Project Bundle
            - rtgl-text s=sm col=muted mb=md: Export and import project bundles
            - rtgl-view d=h g=md ah=c:
              - rtgl-button#createBundleButton variant=pr: Create Bundle
              - 'rvn-drag-drop#importDragDrop .uploadText="Import Bundle" .acceptedFileTypes=${[".vnbundle"]}':
        - rtgl-view w=f mt=auto pt=lg bw-t=xs:
          - rtgl-button#backButton variant=se: Back to Projects

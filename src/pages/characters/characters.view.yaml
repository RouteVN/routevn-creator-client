refs:
  fileExplorer:
    eventListeners:
      data-changed:
        handler: handleDataChanged
      item-click:
        handler: handleFileExplorerSelectionChanged
      dblclick-item:
        handler: handleSpritesButtonClick
  groupview:
    eventListeners:
      item-click:
        handler: handleCharacterItemClick
      item-dblclick:
        handler: handleCharacterItemDoubleClick
      sprites-button-click:
        handler: handleSpritesButtonClick
      add-click:
        handler: handleAddCharacterClick
      search-input:
        handler: handleSearchInput
      group-toggle:
        handler: handleGroupToggle
      item-delete:
        handler: handleItemDelete
  addCharacterDialog:
    eventListeners:
      close:
        handler: handleCloseDialog
  characterForm:
    eventListeners:
      form-action:
        handler: handleDialogFormActionClick
  avatarImage:
    eventListeners:
      click:
        handler: handleDialogAvatarClick
  avatarPlaceholder:
    eventListeners:
      click:
        handler: handleDialogAvatarClick
  detailForm:
    eventListeners:
      form-change:
        handler: handleFormChange
  editDialog:
    eventListeners:
      close:
        handler: handleEditDialogClose
  editAvatarImage:
    eventListeners:
      click:
        handler: handleEditDialogAvatarClick
  editAvatarPlaceholder:
    eventListeners:
      click:
        handler: handleEditDialogAvatarClick
  editForm:
    eventListeners:
      form-action:
        handler: handleEditFormAction
  detailPanelAvatar:
    eventListeners:
      click:
        handler: handleDetailPanelAvatarClick
template:
  - rtgl-view d=h w=f h=f:
      - rtgl-view d=h h=f w=f:
          - rvn-resizable-panel#fileExplorer w=300 min-w=200 max-w=500 resize-side="right":
              - rtgl-view slot="content" w=f h=f:
                  - rvn-resource-types :resourceCategory=resourceCategory :selectedResourceId=selectedResourceId: null
                  - rvn-file-explorer#fileExplorer :items=flatItems :repositoryTarget=repositoryTarget: null
          - rtgl-view w=1fg h=f:
              - rvn-group-resources-view#groupview :navTitle=title full-width-item :resourceType=resourceType :flatGroups=flatGroups :selectedItemId=selectedItemId :searchQuery=searchQuery show-zoom-controls=false: null
          - rvn-resizable-panel panel-type=detail-panel w=270 min-w=200 max-w=500 resize-side="left":
              - rtgl-view wh=f slot="content":
                  - $if selectedItemId:
                      - rtgl-form#detailForm key=${selectedItemId} w=f h=f :form=form :defaultValues=defaultValues:
                          - rvn-file-image#detailPanelAvatar slot="avatar" cur=pointer wh=128 br=f fileId="${selectedItem.fileId}": null
                    $else:
                      - rtgl-view wh=f av=c ah=c bgc=mu-fg:
                          - rtgl-text s=md c=mu-fg: No selection
      - rtgl-dialog#addCharacterDialog ?open=${isDialogOpen} s=md:
          - rtgl-view slot=content g=md:
              - rtgl-form#characterForm key=${isDialogOpen} :defaultValues=dialogDefaultValues :form=dialogForm w=f:
                  - $if avatarFileId:
                      - rvn-file-image#avatarImage fileId=${avatarFileId} wh=120 slot=avatar-slot cur=pointer br=md: null
                    $else:
                      - rtgl-view#avatarPlaceholder slot=avatar-slot wh=120 av=c ah=c bgc=bg bc=bo bw=xs br=md cur=pointer:
                          - rtgl-text c=mu-fg s=sm: Click to Upload
  - rtgl-dialog#editDialog ?open=${isEditDialogOpen} s=md:
      - rtgl-view slot=content g=md:
          - rtgl-form#editForm key=${isEditDialogOpen} :defaultValues=editDefaultValues :form=editForm w=f:
              - $if editAvatarFileId:
                  - rvn-file-image#editAvatarImage fileId=${editAvatarFileId} wh=120 slot=avatar-slot cur=pointer br=md: null
                $else:
                  - rtgl-view#editAvatarPlaceholder slot=avatar-slot wh=120 av=c ah=c bgc=bg bc=bo bw=xs br=md cur=pointer:
                      - rtgl-text c=mu-fg s=sm: Click to Upload

elementName: rvn-images

dataSchema:
  type: object
  properties: {}

refs:
  fileexplorer:
    eventListeners:
      # targetchanged:
      #   handler: handleTargetChanged
      rightclick-container:
        handler: handleFileExplorerRightClickContainer
      rightclick-item:
        handler: handleFileExplorerRightClickItem
  dropdown-menu:
    eventListeners:
      click-overlay:
        handler: handleDropdownMenuClickOverlay
      click-item:
        handler: handleDropdownMenuClickItem
  asset-item-*:
    eventListeners:
      click:
        handler: handleAssetItemClick
  popover:
    eventListeners:
      click-overlay:
        handler: handlePopoverClickOverlay
  form:
    eventListeners:
      action-click:
        handler: handleFormActionClick
  drag-drop-*:
    eventListeners:
      file-selected:
        handler: handleDragDropFileSelected
  group-*:
    eventListeners:
      click:
        handler: handleGroupClick

template: 
  - rtgl-view d=h w=f h=f: 
    - rtgl-view w=f h=f p=md w=200:
      - rvn-resource-types .resourceCategory=resourceCategory .selectedResourceId=selectedResourceId:
      - rvn-file-explorer#fileexplorer .items=flatItems:
    - 'rtgl-view w=f h=100vh g=lg style="overflow-y: scroll;"':
      - rtgl-view g=lg w=f:
        - $for group in flatGroups:
          - rtgl-view w=f:
            - 'rtgl-view#group-${group.id} d=h w=f g=md av=c bgc=bg cur=p style="position: sticky; top: 0;"':
              - $if group.isCollapsed:
                  - rtgl-svg wh=16 svg=folderArrowRight:
                $else:
                  - rtgl-svg wh=16 svg=folderArrowDown:
              - rtgl-svg wh=24 svg=folder:
              - rtgl-text s=h4: ${group.fullLabel}
            - $if !group.isCollapsed:
                - rtgl-view d=h g=md:
                  - $if group.hasChildren:
                      - $for item in group.children:
                          - rtgl-image w=200 h=150 src="/public/project_logo_placeholder.png":
                    $else:
                      - rvn-drag-drop#drag-drop-${group.id}:
    - rtgl-view w=f h=f p=md w=270 bwl=xs bc=bo:
      - rtgl-image w=240 h=135 src=/public/project_logo_placeholder.png:
      - rtgl-text s=lg: Details
      - rtgl-text c=mu-fg: Name 
      - rtgl-text: My Background
      - rtgl-text c=mu-fg: Description
      - rtgl-text: This is a description of the background
      - rtgl-text c=mu-fg: File Type
      - rtgl-text: PNG
      - rtgl-text c=mu-fg: File Size
      - rtgl-text: 100 KB
      - rtgl-text c=mu-fg: Created At
      - rtgl-text: '2021-01-01'
      - rtgl-text c=mu-fg: Updated At
      - rtgl-text: '2021-01-01'
      - rtgl-text c=mu-fg: Version
      - rtgl-text: 4 (view history)
      - rtgl-text c=mu-fg: Tags
      - rtgl-view d=h fw=w g=sm:
        - rtgl-text s=sm: Tag 1
        - rtgl-text s=sm: Tag 2
        - rtgl-text s=sm: Tag 3
      - rtgl-text c=mu-fg: Used in Scenes
      - rtgl-view d=h fw=w g=sm:
        - rtgl-text s=sm: Scene 1
        - rtgl-text s=sm: Scene 2
        - rtgl-text s=sm: Scene 3
  - rtgl-dropdown-menu#dropdown-menu .items=dropdownMenu.items .position=dropdownMenu.position .isOpen=dropdownMenu.isOpen:
  - rtgl-popover#popover .isOpen=popover.isOpen .position=popover.position:
    - rtgl-form#form slot=content .form=form:

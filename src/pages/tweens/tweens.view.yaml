refs:
  fileExplorer:
    eventListeners:
      data-changed:
        handler: handleDataChanged
      item-click:
        handler: handleFileExplorerSelectionChanged
      dblclick-item:
        handler: handleAnimationItemDoubleClick
  groupview:
    eventListeners:
      item-click:
        handler: handleAnimationItemClick
      add-click:
        handler: handleAddAnimationClick
      item-dblclick:
        handler: handleAnimationItemDoubleClick
      search-input:
        handler: handleSearchInput
      item-delete:
        handler: handleItemDelete
  detailForm:
    eventListeners:
      form-change:
        handler: handleFormChange
  addAnimationDialog:
    eventListeners:
      close:
        handler: handleCloseDialog
  animationForm:
    eventListeners:
      form-action:
        handler: handleFormActionClick
  addPropertiesButton:
    eventListeners:
      click:
        handler: handleAddPropertiesClick
  dialogTimeline:
    eventListeners:
      add-keyframe:
        handler: handleAddKeyframeInDialog
      keyframe-right-click:
        handler: handleKeyframeRightClick
      property-name-right-click:
        handler: handlePropertyNameRightClick
      initial-value-click:
        handler: handleInitialValueClick
  addPropertyPopover:
    eventListeners:
      close:
        handler: handleClosePopover
  addPropertyForm:
    eventListeners:
      form-action:
        handler: handleAddPropertyFormSubmit
      form-change:
        handler: handleAddPropertyFormChange
  addKeyframeForm:
    eventListeners:
      form-action:
        handler: handleAddKeyframeFormSubmit
  addKeyframePopover:
    eventListeners:
      close:
        handler: handleClosePopover
  editKeyframeForm:
    eventListeners:
      form-action:
        handler: handleEditKeyframeFormSubmit
  editInitialValueForm:
    eventListeners:
      form-action:
        handler: handleEditInitialValueFormSubmit
      form-change:
        handler: handleEditInitialValueFormChange
  replayButton:
    eventListeners:
      click:
        handler: handleReplayAnimation
  keyframeDropdownMenu:
    eventListeners:
      close:
        handler: handleClosePopover
      item-click:
        handler: handleKeyframeDropdownItemClick
template:
  - rtgl-view d=h w=f h=f:
      - rtgl-view d=h h=f w=f:
          - rvn-resizable-panel#fileExplorer w=300 min-w=200 max-w=500 resize-side="right":
              - rtgl-view slot="content" w=f h=f:
                  - rvn-resource-types :resourceCategory=resourceCategory :selectedResourceId=selectedResourceId: null
                  - rvn-file-explorer#fileExplorer :items=flatItems :repositoryTarget=repositoryTarget :contextMenuItems=contextMenuItems :emptyContextMenuItems=emptyContextMenuItems: null
          - rtgl-view flex=1 h=f:
              - rvn-group-resources-view#groupview full-width-item :navTitle=title :resourceType=resourceType :flatGroups=flatGroups :selectedItemId=selectedItemId :searchQuery=searchQuery show-zoom-controls=false: null
          - rvn-resizable-panel panel-type=detail-panel w=270 min-w=200 max-w=500 resize-side="left":
              - rtgl-view wh=f slot="content":
                  - $if selectedItemId:
                      - rtgl-form#detailForm key=${selectedItemId} w=f h=f :form=form :defaultValues=defaultValues: null
                    $else:
                      - rtgl-view wh=f av=c ah=c bgc=mu-fg:
                          - rtgl-text s=md c=mu-fg: No selection
  - rtgl-dialog#addAnimationDialog ?open=${isDialogOpen} s=lg:
      - rtgl-view slot=content d=h g=md:
          - rtgl-view flex=5:
              - rtgl-form#animationForm key=${isDialogOpen} :defaultValues=dialogDefaultValues :form=dialogForm w=f:
                  - rtgl-view slot=timeline w=f:
                      - rvn-keyframe-timeline#dialogTimeline editable=true :properties=properties: null
                      - rtgl-view d=h g=md av=c mb=md w=f mt=lg:
                          - $if addPropertyButtonVisible:
                              - rtgl-button#addPropertiesButton w=f v=se s=sm: + Add tween property
              - rtgl-view h=128: null
          - rtgl-view flex=5:
              - rtgl-view d=h av=c ah=sb mb=md:
                  - rtgl-text: Preview
                  - rtgl-button#replayButton s=sm ml=md: Play Tween
              - 'rtgl-view w=f bgc=fg pos=rel style="aspect-ratio: 16/9;"':
                  - rtgl-view pos=abs cor=full:
                      - 'div#canvas style="width: 100%; height: 100%;display: flex;"': null
          - rtgl-popover#addPropertyPopover ?open=${popover.popoverIsOpen} x=${popover.x} y=${popover.y}:
              - $if popover.mode == 'addProperty':
                  - rtgl-form#addPropertyForm slot=content :form=addPropertyForm :context=addPropertyContext :defaultValues=addPropertyFormDefaultValues: null
              - $if popover.mode == 'addKeyframe':
                  - rtgl-form#addKeyframeForm slot=content :form=addKeyframeForm :defaultValues=addKeyframeDefaultValues: null
              - $if popover.mode == 'editKeyframe':
                  - rtgl-form#editKeyframeForm slot=content :form=updateKeyframeForm :defaultValues=editKeyframeDefaultValues: null
              - $if popover.mode == 'editInitialValue':
                  - rtgl-form#editInitialValueForm slot=content :form=editInitialValueForm :defaultValues=editInitialValueDefaultValues :context=editInitialValueContext: null
          - rtgl-dropdown-menu#keyframeDropdownMenu :items=keyframeDropdownItems ?open=${popover.dropdownMenuIsOpen} x=${popover.x} y=${popover.y}: null
